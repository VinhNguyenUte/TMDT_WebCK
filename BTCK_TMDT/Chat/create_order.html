<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết giao dịch - H! TMDT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="create_order.css">
</head>
<body>
    <header class="header">
        <div class="header-left">
            <button class="header-menu-toggle" aria-label="Toggle menu"><i class="fas fa-bars"></i></button>
            <a href="/Home_ProductDetails/Home.html" class="header-logo">
                <img src="https://bizweb.dktcdn.net/100/479/080/themes/897121/assets/logo.png?1739930514069" alt="H! TMDT Logo"/>
            </a>
            <div style="position: relative;">
        <button class="CategorySelected">
          <svg class="iconCategory" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path d="M4 6H20M4 12H20M4 18H20" stroke="white" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round"></path>
            </g>
          </svg>
          <ul class="category-dropdown" id="categoryDropdown">
            <li class="category-item">
              <i class="fas fa-building"></i> Bất động sản <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Chung cư</li>
                <li class="subcategory-item">Nhà riêng</li>
                <li class="subcategory-item">Văn phòng</li>
                <li class="subcategory-item">Đất nền</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-motorcycle"></i> Xe cộ <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Ô tô</li>
                <li class="subcategory-item">Xe máy</li>
                <li class="subcategory-item">Xe điện</li>
                <li class="subcategory-item">Xe đạp</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-laptop"></i> Đồ điện tử <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Điện thoại</li>
                <li class="subcategory-item">Máy tính bảng</li>
                <li class="subcategory-item">Laptop</li>
                <li class="subcategory-item">Phụ kiện điện tử</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-snowflake"></i> Tủ lạnh, máy lạnh, máy giặt <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Tủ lạnh</li>
                <li class="subcategory-item">Máy lạnh</li>
                <li class="subcategory-item">Máy giặt</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-couch"></i> Đồ gia dụng, nội thất <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Giường</li>
                <li class="subcategory-item">Tủ</li>
                <li class="subcategory-item">Bàn ghế</li>
                <li class="subcategory-item">Thiết bị nhà bếp</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-tshirt"></i> Thời trang, đồ dùng cá nhân <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Quần áo</li>
                <li class="subcategory-item">Giày dép</li>
                <li class="subcategory-item">Phụ kiện</li>
                <li class="subcategory-item">Mỹ phẩm</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-paw"></i> Thú cưng <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Chó</li>
                <li class="subcategory-item">Mèo</li>
                <li class="subcategory-item">Phụ kiện thú cưng</li>
                <li class="subcategory-item">Thức ăn thú cưng</li>
              </ul>
            </li>
          </ul>

        </button>
      </div>
            <div class="search-bar">
                <input type="text" placeholder="Tìm kiếm sản phẩm" />
                <button><i class="fas fa-search"></i></button>
            </div>
        </div>
        <div class="header-right">
            <div class="header-links">
                <a href="#">Đóng góp ý kiến</a>
                <a href="#">Trợ giúp</a>
            </div>
            <div class="header-icons">
                <a class="icon-wrapper"><i class="fas fa-bell"></i><span class="badge">2</span></a>
                <a href="/Saved_Product/saved_products.html" class="icon-wrapper"><i class="fa-solid fa-heart"></i></a>
                <a href="/Chat/index.html" class="icon-wrapper"><i class="fas fa-comment-dots"></i><span class="badge">3</span></a>
                <div class="icon-wrapper bag-icon-wrapper">
                    <i class="fa-solid fa-bag-shopping"></i><span class="badge">3</span>
                    <div class="bag-dropdown-menu">
                        <a href="/Order_History/don-mua-ban.html?type=buy" class="bag-dropdown-item">Đơn mua</a>
                        <a href="/Order_History/don-mua-ban.html?type=sell" class="bag-dropdown-item">Đơn bán</a>
                    </div>
                </div>
        
                <a href="/Profile/profile_edit.html" class="icon-wrapper"><i class="fas fa-user"></i></a>
            </div>
            <div class="header-buttons">
                <a href="/Day_Tin/quan-ly-tin.html" class="btn btn-outline"><i class="fas fa-user"></i> Quản lý tin</a>
                <a href="/Create_Post/index.html" class="btn btn-post-news"><i class="fas fa-pen"></i> Đăng Tin</a>
            </div>
        </div>
    </header>

    <div class="main-content-wrapper">
        <h2 class="page-title">Chi tiết giao dịch</h2>
        <div class="transaction-details-card">
            <div class="detail-section">
                <h3>Thông tin người bán</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span>Tên người bán</span>
                        <span>Di động giá rẻ</span>
                    </div>
                    <div class="info-item">
                        <span>Số điện thoại người bán</span>
                        <span>0123456789</span>
                    </div>
                    <div class="info-item info-item-full"> <span>Địa chỉ người bán</span>
                        <span>Phường Hòa Cường Nam, Quận Hải Châu, Đà Nẵng</span>
                    </div>
                </div>
            </div>

            <div class="detail-section">
                <h3>Thông tin người mua</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span>Tên người mua</span>
                        <span>Nguyễn Văn A</span>
                    </div>
                    <div class="info-item">
                        <span>Số điện thoại người mua</span>
                        <span>0123456789</span>
                    </div>
                     <div class="info-item info-item-full">
                        <span>Địa chỉ người mua</span>
                        <span>Phường Hòa Cường Nam, Quận Hải Châu, Đà Nẵng</span>
                    </div>
                </div>
            </div>

            <div class="detail-section">
                <h3>Thông tin giao dịch</h3>
                <div class="transaction-info-grid">
                    <div class="info-item">
                        <span>Mã đơn hàng</span>
                        <span>24Q7073</span>
                    </div>
                    <div class="info-item">
                        <span>Thời gian</span>
                        <span>14:53 - 12/03/2025</span>
                    </div>
                    <div class="info-item">
                        <span>Tên sản phẩm</span>
                        <span>Điện thoại Oppo A70</span>
                    </div>
                    <div class="info-item">
                        <span>Giá sản phẩm</span>
                        <span>4,000,000 đ</span>
                    </div>
                     <div class="info-item">
                        <span>Số lượng</span>
                        <span>1</span>
                    </div>
                    <div class="info-item">
                        <span>Tổng tiền</span>
                        <span>4,000,000 đ</span>
                    </div>
                    <div class="info-item info-item-full"> <span>Trạng thái đơn hàng</span>
                        <span>Chờ xác nhận từ người mua</span>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button onclick="window.history.back()" class="btn btn-cancel">Quay lại</button>
                <button id="create-order-btn" class="btn btn-confirm">Tạo đơn</button>
            </div>
        </div>
    </div>
    <div id="custom-alert-modal" class="custom-alert-overlay">
        <div class="custom-alert-content">
            <div id="custom-alert-icon" class="alert-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h4 id="custom-alert-title">Thành công!</h4>
            <p id="custom-alert-message">Tạo đơn hàng thành công.</p>
            <button id="custom-alert-close-btn" class="btn-alert-close">Đóng</button>

        </div>
    </div>

    <!-- Notification modal -->
      <div id="notification-modal" class="notification-modal-overlay">
        <div class="notification-modal-content">
            <div class="notification-modal-header">
                <h4>Thông báo</h4>
                <button id="notification-modal-close-btn" class="notification-modal-close">&times;</button>
            </div>
            <div class="notification-modal-tabs">
                <button class="tab-button active" data-tab="activity">Hoạt động</button>
                <button class="tab-button" data-tab="news">Tin tức</button>
            </div>
            <div class="notification-modal-body">
                <div id="activity-tab-content" class="tab-content active">
                    <div class="notification-item" data-order-id="order123">
                        <div class="notification-icon activity">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="notification-text">
                            <p><strong>Shop ABC</strong> đã gửi yêu cầu tạo đơn hàng cho sản phẩm "Áo thun nam cao cấp".</p>
                            <span class="notification-time">2 phút trước</span>
                        </div>
                        <a href="#" class="btn btn-view-details">Xem chi tiết</a>
                    </div>
                    <!-- <div class="notification-item">
                        <div class="notification-icon activity">
                             <i class="fas fa-handshake"></i>
                        </div>
                        <div class="notification-text">
                            <p>Đơn hàng #XYZ789 của bạn đã được <strong>Người mua XYZ</strong> xác nhận. Chuẩn bị hàng nhé!</p>
                             <span class="notification-time">1 giờ trước</span>
                        </div>
                         <a href="#" class="btn btn-view-details">Xem đơn hàng</a>
                    </div> -->
                    
                </div>
                <div id="news-tab-content" class="tab-content">
                    <div class="notification-item">
                        <div class="notification-icon news">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="notification-text">
                            <p>🔥 Flash Sale cuối tháng! Giảm giá đến 50% cho hàng ngàn sản phẩm.</p>
                            <span class="notification-time">Hôm qua</span>
                        </div>
                    </div>
                    <div class="notification-item">
                         <div class="notification-icon news">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="notification-text">
                            <p>🎉 Chúc mừng bạn đã nhận được voucher giảm 10% cho đơn hàng tiếp theo.</p>
                             <span class="notification-time">2 ngày trước</span>
                        </div>
                    </div>
                     
                </div>
            </div>
        </div>
    </div>

    <script>
        const customAlertModal = document.getElementById("custom-alert-modal")
        const customAlertCloseBtn = document.getElementById("custom-alert-close-btn")
        const customAlertIcon = document.getElementById("custom-alert-icon")
        const customAlertTitle = document.getElementById('custom-alert-title')
        const customAlertMessage = document.getElementById("custom-alert-message")
        const createOrderButton = document.getElementById("create-order-btn")

        function showCustomAlert(title,message,type="success"){
            customAlertTitle.textContent = title;
            customAlertMessage.textContent = message;
            if(type ==="success"){
                customAlertIcon.innerHTML = `<i class ="fas fa-check-circle"></i>`;
                customAlertIcon.querySelector("i").style.color = "#28a745";

            }else if(type==="error"){
                customAlertIcon.innerHTML = `<i class ="fas fa-check-circle"></i>`;
                customAlertIcon.querySelector("i").style.color = "#dc3545";
            }
            customAlertModal.classList.add("show")
        }
        function closeCustomAlert(){
            customAlertModal.classList.remove("show")
        }
        customAlertCloseBtn.addEventListener("click",closeCustomAlert)

        customAlertModal.addEventListener("click",(e)=>{
            if(e.target === customAlertModal){
                closeCustomAlert();
            }
        })

        createOrderButton.addEventListener("click",()=>{
            showCustomAlert("Thành công!","Gửi yêu cầu tạo đơn hàng thành công.","success");

        })


        // notification
        const notificationIconTrigger = document.querySelector('.header-icons .icon-wrapper i.fa-bell').closest('.icon-wrapper');
        const notificationModal = document.getElementById('notification-modal');
        const notificationModalCloseBtn = document.getElementById('notification-modal-close-btn');
        const notificationTabButtons = document.querySelectorAll('.notification-modal-tabs .tab-button');
        const notificationTabContents = document.querySelectorAll('.notification-modal-body .tab-content');

        function showNotificationModal() {
            notificationModal.classList.add('show');
        }

        function closeNotificationModal() {
            notificationModal.classList.remove('show');
        }

        if (notificationIconTrigger) {
            notificationIconTrigger.addEventListener('click', (event) => {
                event.stopPropagation(); 
               
                showNotificationModal();
                
            });
        }

        if (notificationModalCloseBtn) {
            notificationModalCloseBtn.addEventListener('click', closeNotificationModal);
        }

      
        if (notificationModal) {
            notificationModal.addEventListener('click', function(event) {
                if (event.target === notificationModal) {
                    closeNotificationModal();
                }
            });
        }

       
        notificationTabButtons.forEach(button => {
            button.addEventListener('click', () => {
              
                notificationTabButtons.forEach(btn => btn.classList.remove('active'));
                notificationTabContents.forEach(content => content.classList.remove('active'));

               
                button.classList.add('active');
                const tabId = button.dataset.tab;
                document.getElementById(tabId + '-tab-content').classList.add('active');
            });
        });

    const activityTabContent = document.getElementById('activity-tab-content'); 
    if (activityTabContent) {
        activityTabContent.addEventListener('click', function(event) {
        if (event.target.classList.contains('btn-view-details')) {
            event.preventDefault(); 
            const notificationItem = event.target.closest('.notification-item');
            const orderId = notificationItem.dataset.orderId;

            window.location.href = `order_review.html?orderId=${orderId}`;
        }
    });
}
       

    const toggleButton = document.querySelector('.CategorySelected');
    const dropdown = document.getElementById('categoryDropdown');
    const categoryItems = document.querySelectorAll('.category-item');

    toggleButton.addEventListener('click', function (e) {
      e.preventDefault();
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
      document.querySelectorAll('.subcategory-list').forEach(subList => {
        subList.style.display = 'none';
      });
    });

    document.addEventListener('click', function (e) {
      if (!toggleButton.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.style.display = 'none';
        document.querySelectorAll('.subcategory-list').forEach(subList => {
          subList.style.display = 'none';
        });
      }
    });

    categoryItems.forEach(item => {
      item.addEventListener('click', function (e) {
        e.stopPropagation();
        // Ẩn tất cả subcategory-list trước khi hiển thị cái được click
        document.querySelectorAll('.subcategory-list').forEach(subList => {
          subList.style.display = 'none';
        });
        const subcategoryList = this.querySelector('.subcategory-list');
        // Di chuyển dropdown phụ xuống dưới danh mục chính
        subcategoryList.style.top = '0%';
        subcategoryList.style.left = '100%';
        subcategoryList.style.display = subcategoryList.style.display === 'block' ? 'none' : 'block';
      });
    });

    // Thêm vào cuối script hiện có
const bagIconWrapper = document.querySelector('.bag-icon-wrapper');
const bagDropdownMenu = document.querySelector('.bag-dropdown-menu');

if (bagIconWrapper && bagDropdownMenu) {
    // Toggle dropdown on bag icon click
    bagIconWrapper.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent document click from immediately closing
        bagDropdownMenu.classList.toggle('show');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!bagIconWrapper.contains(e.target)) {
            bagDropdownMenu.classList.remove('show');
        }
    });

    // Prevent dropdown from closing when clicking inside it
    bagDropdownMenu.addEventListener('click', function(e) {
        e.stopPropagation();
    });
}
    </script>
    </body>
</html>