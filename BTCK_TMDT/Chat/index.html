<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat - H! TMDT</title>
    <link rel="stylesheet" href="index.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
   
  </head>
  <body>
    <header class="header">
      <div class="header-left">
        <a href="/Home_ProductDetails/Home.html" class="header-logo"><img src="https://bizweb.dktcdn.net/100/479/080/themes/897121/assets/logo.png?1739930514069" alt="H! TMDT Logo"/></a>
        <div style="position: relative;">
        <button class="CategorySelected">
          <svg class="iconCategory" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path d="M4 6H20M4 12H20M4 18H20" stroke="white" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round"></path>
            </g>
          </svg>
          <ul class="category-dropdown" id="categoryDropdown">
            <li class="category-item">
              <i class="fas fa-building"></i> B·∫•t ƒë·ªông s·∫£n <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Chung c∆∞</li>
                <li class="subcategory-item">Nh√† ri√™ng</li>
                <li class="subcategory-item">VƒÉn ph√≤ng</li>
                <li class="subcategory-item">ƒê·∫•t n·ªÅn</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-motorcycle"></i> Xe c·ªô <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">√î t√¥</li>
                <li class="subcategory-item">Xe m√°y</li>
                <li class="subcategory-item">Xe ƒëi·ªán</li>
                <li class="subcategory-item">Xe ƒë·∫°p</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-laptop"></i> ƒê·ªì ƒëi·ªán t·ª≠ <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">ƒêi·ªán tho·∫°i</li>
                <li class="subcategory-item">M√°y t√≠nh b·∫£ng</li>
                <li class="subcategory-item">Laptop</li>
                <li class="subcategory-item">Ph·ª• ki·ªán ƒëi·ªán t·ª≠</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-snowflake"></i> T·ªß l·∫°nh, m√°y l·∫°nh, m√°y gi·∫∑t <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">T·ªß l·∫°nh</li>
                <li class="subcategory-item">M√°y l·∫°nh</li>
                <li class="subcategory-item">M√°y gi·∫∑t</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-couch"></i> ƒê·ªì gia d·ª•ng, n·ªôi th·∫•t <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Gi∆∞·ªùng</li>
                <li class="subcategory-item">T·ªß</li>
                <li class="subcategory-item">B√†n gh·∫ø</li>
                <li class="subcategory-item">Thi·∫øt b·ªã nh√† b·∫øp</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-tshirt"></i> Th·ªùi trang, ƒë·ªì d√πng c√° nh√¢n <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Qu·∫ßn √°o</li>
                <li class="subcategory-item">Gi√†y d√©p</li>
                <li class="subcategory-item">Ph·ª• ki·ªán</li>
                <li class="subcategory-item">M·ªπ ph·∫©m</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-paw"></i> Th√∫ c∆∞ng <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Ch√≥</li>
                <li class="subcategory-item">M√®o</li>
                <li class="subcategory-item">Ph·ª• ki·ªán th√∫ c∆∞ng</li>
                <li class="subcategory-item">Th·ª©c ƒÉn th√∫ c∆∞ng</li>
              </ul>
            </li>
          </ul>

        </button>
      </div>
        <div class="search-bar"><input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m" /><button><i class="fas fa-search"></i></button></div>
      </div>
      <div class="header-right">
        <div class="header-links"><a href="#">ƒê√≥ng g√≥p √Ω ki·∫øn</a><a href="#">Tr·ª£ gi√∫p</a></div>
        <div class="header-icons">
          <a class="icon-wrapper"><i class="fas fa-bell"></i><span class="badge">2</span></a>
          <a href="/Saved_Product/saved_products.html" class="icon-wrapper"><i class="fa-solid fa-heart"></i></a>
          <a href="/Chat/index.html" class="icon-wrapper"><i class="fas fa-comment-dots"></i><span class="badge">3</span></a>
          <div class="icon-wrapper bag-icon-wrapper">
              <i class="fa-solid fa-bag-shopping"></i><span class="badge">3</span>
              <div class="bag-dropdown-menu">
                  <a href="/Order_History/don-mua-ban.html?type=buy" class="bag-dropdown-item">ƒê∆°n mua</a>
                  <a href="/Order_History/don-mua-ban.html?type=sell" class="bag-dropdown-item">ƒê∆°n b√°n</a>
              </div>
          </div>
          
          <a href="/Profile/profile_edit.html" class="icon-wrapper"><i class="fas fa-user"></i></a>
        </div>
        <div class="header-buttons">
          <a href="/Day_Tin/quan-ly-tin.html" class="btn btn-outline"><i class="fas fa-user"></i> Qu·∫£n l√Ω tin</a>
          <a href="/Create_Post/index.html" class="btn btn-post-news"><i class="fas fa-pen"></i> ƒêƒÉng Tin</a>
        </div>
      </div>
    </header>

    <div class="main-content-wrapper-chat">
        <div class="chat-list-column">
            <div class="chat-search-bar">
                <input type="text" placeholder="Nh·∫≠p √≠t nh·∫•t 3 k√≠ t·ª± ƒë·ªÉ b·∫Øt ƒë·∫ßu t√¨m ki·∫øm">
            </div>
            <div class="conversation-list">
                <div class="conversation-item"> <div class="avatar"><img src="https://i.pravatar.cc/150?u=shop1" alt="Avatar"></div>
                    <div class="conversation-details">
                        <span class="name">Di ƒë·ªông gi√° r·∫ª</span>
                        <span class="message-snippet">Redmi 12 5G c√≥ NFC</span>
                        <span class="time">4 gi·ªù tr∆∞·ªõc</span>
                    </div>
                    <div class="product-thumbnail-small"><img src="https://dienthoaihay.vn/images/products/2024/09/05/large/redmi-12-5g---den_1725531398.jpg.jpg" alt="Product"></div>
                </div>
                <div class="conversation-item">
                    <div class="avatar"><img src="https://i.pravatar.cc/150?u=user2" alt="Avatar"></div>
                    <div class="conversation-details">
                        <span class="name">Nguy·ªÖn H·∫£i</span>
                        <span class="message-snippet">Honda ab 160 bs 43 si√™u...</span>
                         <span class="time">1 gi·ªù tr∆∞·ªõc</span>
                    </div>
                    <div class="product-thumbnail-small"><img src="https://hondadoanhthu.com.vn/wp-content/uploads/2021/01/db-xanh-den-vang.png" alt="Product"></div>
                </div>
                 <div class="conversation-item">
                    <div class="avatar"><img src="https://i.pravatar.cc/150?u=shop_bahuan" alt="Avatar"></div>
                    <div class="conversation-details">
                        <span class="name">B√° Hu·∫•n</span>
                        <span class="message-snippet">Ok b·∫°n, ƒë·ªÉ m√¨nh l√™n ƒë∆°n...</span>
                         <span class="time">2 gi·ªù tr∆∞·ªõc</span>
                    </div>
                    <div class="product-thumbnail-small"><img src="https://dochoiotogiare.com/wp-content/uploads/2018/09/day-sac-dien-thoai-da-nang-9-600x600.png" alt="Product"></div>
                </div>
                </div>
        </div>

        <div class="chat-window-column">
            <div class="active-chat-window hidden">
                <div class="chat-header">
                    <div class="avatar"><img src="https://i.pravatar.cc/150?u=shop_bahuan" alt="Avatar"></div>
                    <div class="user-info">
                        <span class="name">B√° Hu√¢n</span>
                        <span class="status">Ho·∫°t ƒë·ªông 2 gi·ªù tr∆∞·ªõc</span>
                    </div>
                    <div class="options-menu"><i class="fas fa-ellipsis-v"></i></div>
                </div>
                <div class="chat-product-bar">
                    <img src="https://dienthoaihay.vn/images/products/2024/09/05/large/redmi-12-5g---den_1725531398.jpg.jpg" alt="Product">
                    <div class="product-details-chat">
                        <span class="name">Redmi 12 5G c√≥ NFC</span>
                        <span class="price">3.000.000 ƒë</span>
                    </div>
                    <a href="/Chat/create_order.html" class="btn-create-order">T·∫°o ƒë∆°n h√†ng</a>
                </div>
                <div class="messages-area">
                    <div class="timestamp-separator">Ch·ªß nh·∫≠t, 09/03/2025</div>
                    <div class="message-bubble sent">
                        <div class="message-text">Xin ch√†o</div>
                        <div class="message-timestamp">9:30</div>
                    </div>
                    <div class="message-bubble received">
                        <div class="message-text">ƒêi·ªán tho·∫°i n√†y c√≤n hay ƒë√£ b√°n r·ªìi ·∫°?</div>
                        <div class="message-timestamp">9:31</div>
                    </div>
                     <div class="message-bubble sent">
                        <div class="message-text">ƒê·ªÉ m√¨nh l√™n ƒë∆°n cho b·∫°n lu√¥n nh√©</div>
                        <div class="message-timestamp">9:31</div>
                    </div>
                  </div>
                <div class="message-input-area">
                    <div class="quick-replies">
                        <button>Hi</button>
                        <button>S·∫£n ph·∫©m n√†y c√≤n kh√¥ng?</button>
                        <button>B·∫°n c√≥ ship h√†ng kh√¥ng?</button>
                        <button>S·∫£n ph·∫©m n√†y c√≤n</button>
                    </div>
                    <div class="input-controls">
                        <button class="btn-attachment" aria-label="ƒê√≠nh k√®m ·∫£nh"><i class="fas fa-image"></i></button>
                        <button class="btn-location" aria-label="G·ª≠i v·ªã tr√≠"><i class="fas fa-map-marker-alt"></i></button>
                        <textarea placeholder="Nh·∫≠p tin nh·∫Øn" class="input-text"></textarea>
                        <button class="btn-send" aria-label="G·ª≠i tin nh·∫Øn"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
            <div class="emptyRoom">
              <img class="emptyRoomImg" src="https://chat.chotot.com/emptyRoom.png" alt="emptyRoom">
              <span>T√≠ch c·ª±c chat, ch·ªëc l√°t ch·ªët ƒë∆°n</span>
            </div>
        </div>
    </div>

    <footer class="main-footer">
      <div class="footer-top">
        <div class="footer-feature"><i class="fas fa-truck-fast"></i><span>Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn <br />Cho ƒë∆°n h√†ng tr√™n 500K</span></div>
        <div class="footer-feature"><i class="fas fa-shield-alt"></i><span>Thanh to√°n an to√†n <br />100% b·∫£o m·∫≠t</span></div>
        <div class="footer-feature"><i class="fas fa-headset"></i><span>H·ªó tr·ª£ kh√°ch h√†ng 24/7 <br />Li√™n h·ªá v·ªõi ch√∫ng t√¥i ngay</span></div>
        <div class="footer-feature"><i class="fas fa-undo-alt"></i><span>Mi·ªÖn ph√≠ ho√†n h√†ng <br />N·∫øu s·∫£n ph·∫©m c√≥ l·ªói</span></div>
      </div>
      <div class="footer-bottom">
        <div class="footer-section">
          <div class="footer-logo"><img src="https://bizweb.dktcdn.net/100/479/080/themes/897121/assets/logo.png?1739930514069" alt="H! TMDT Logo"/></div>
          <p>H!TMDT l√† s√†n th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ h√†ng ƒë·∫ßu Vi·ªát Nam, mang ƒë·∫øn tr·∫£i nghi·ªám mua s·∫Øm ti·ªán l·ª£i v√† an to√†n.</p>
        </div>
        <div class="footer-section"><h4>H·ªó tr·ª£ kh√°ch h√†ng</h4><ul><li><a href="#">Trung t√¢m tr·ª£ gi√∫p</a></li><li><a href="#">An to√†n mua b√°n</a></li><li><a href="#">H·ªó tr·ª£ kh√°ch h√†ng</a></li></ul></div>
        <div class="footer-section"><h4>H∆∞·ªõng d·∫´n</h4><ul><li><a href="#">H∆∞·ªõng d·∫´n mua h√†ng</a></li><li><a href="#">H∆∞·ªõng d·∫´n tr·∫£ g√≥p</a></li><li><a href="#">H∆∞·ªõng d·∫´n chuy·ªÉn kho·∫£n</a></li><li><a href="#">H∆∞·ªõng d·∫´n ho√†n h√†ng</a></li></ul></div>
        <div class="footer-section"><h4>Ch·∫•p nh·∫≠n thanh to√°n</h4>
          <div class="payment-methods">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5TmYtrb-zQEppk0up4S5LDpCazv20kY7eMQ&s" alt="MasterCard"/>
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQw7cK1qUl1Vw4nBtRIvPVRV4vQ_pHID4lXOA&s" alt="Visa"/>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/JCB_logo.svg/1280px-JCB_logo.svg.png" alt="JCB"/>
          </div>
          <div class="social-icons">
            <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
    </footer>

    <div id="notification-modal" class="notification-modal-overlay">
        <div class="notification-modal-content">
            <div class="notification-modal-header">
                <h4>Th√¥ng b√°o</h4>
                <button id="notification-modal-close-btn" class="notification-modal-close">&times;</button>
            </div>
            <div class="notification-modal-tabs">
                <button class="tab-button active" data-tab="activity">Ho·∫°t ƒë·ªông</button>
                <button class="tab-button" data-tab="news">Tin t·ª©c</button>
            </div>
            <div class="notification-modal-body">
                <div id="activity-tab-content" class="tab-content active">
                    <div class="notification-item" data-order-id="order123">
                        <div class="notification-icon activity">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="notification-text">
                            <p><strong>Shop ABC</strong> ƒë√£ g·ª≠i y√™u c·∫ßu t·∫°o ƒë∆°n h√†ng cho s·∫£n ph·∫©m "√Åo thun nam cao c·∫•p".</p>
                            <span class="notification-time">2 ph√∫t tr∆∞·ªõc</span>
                        </div>
                        <a href="#" class="btn btn-view-details">Xem chi ti·∫øt</a>
                    </div>
                    </div>
                <div id="news-tab-content" class="tab-content">
                    <div class="notification-item">
                        <div class="notification-icon news">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="notification-text">
                            <p>üî• Flash Sale cu·ªëi th√°ng! Gi·∫£m gi√° ƒë·∫øn 50% cho h√†ng ng√†n s·∫£n ph·∫©m.</p>
                            <span class="notification-time">H√¥m qua</span>
                        </div>
                    </div>
                    <div class="notification-item">
                         <div class="notification-icon news">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="notification-text">
                            <p>üéâ Ch√∫c m·ª´ng b·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c voucher gi·∫£m 10% cho ƒë∆°n h√†ng ti·∫øp theo.</p>
                             <span class="notification-time">2 ng√†y tr∆∞·ªõc</span>
                        </div>
                    </div>
                     
                </div>
            </div>
        </div>
    </div>

    <script>
        const btnSend = document.querySelector(".btn-send")
        const value = document.querySelector(".input-text")
        const messageArea = document.querySelector(".messages-area")
        const now = new Date()
        btnSend.addEventListener("click",()=>{
          if(value.value.trim() !== ""){
              createMessage(value)
          }
        })
        value.addEventListener("keydown",(e)=>{
          if(e.key=="Enter" && value.value.trim()!==""){
            e.preventDefault();
            createMessage(value)
          }
        })
        const quickReplies  = document.querySelectorAll(".quick-replies button")
        quickReplies.forEach(item=>{
          item.addEventListener("click",()=>{
            createMessage(item)
          })
        }) 

        
        function createMessage(value){
            const messageBubble = document.createElement("div")
            messageBubble.classList.add("message-bubble", "sent")

            const messageText = document.createElement("div")
            messageText.classList.add("message-text")
            const messageContent = value.tagName==="TEXTAREA"?value.value:value.textContent.trim()
            messageText.textContent = messageContent

            const messageTimetamp = document.createElement("div")
            messageTimetamp.classList.add("message-timestamp")
            messageTimetamp.textContent = `${now.getHours()}:${now.getMinutes()}`
            
            messageBubble.append(messageText,messageTimetamp)
            messageArea.appendChild(messageBubble)

            if(value.tagName==="TEXTAREA"){

              value.value=''
            }
        }
        

        const conversationItems = document.querySelectorAll(".conversation-item");
        const activeChatWindow = document.querySelector(".active-chat-window");
        const emptyRoom = document.querySelector(".emptyRoom");
        const emptyRoomImg = document.querySelector(".emptyRoomImg")
        const span = document.querySelector(".emptyRoom span")
        conversationItems.forEach(item => {
          item.addEventListener("click", () => {
            conversationItems.forEach(i => i.classList.remove("active"));

            item.classList.add("active");

            activeChatWindow.classList.remove("hidden");

            emptyRoom.classList.add("hidden");
            emptyRoomImg.classList.add("hidden")
            span.classList.add("hidden")
          });
        });

        
        const toggleButton = document.querySelector('.CategorySelected');
    const dropdown = document.getElementById('categoryDropdown');
    const categoryItems = document.querySelectorAll('.category-item');

    toggleButton.addEventListener('click', function (e) {
      e.preventDefault();
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
      document.querySelectorAll('.subcategory-list').forEach(subList => {
        subList.style.display = 'none';
      });
    });

    document.addEventListener('click', function (e) {
      if (!toggleButton.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.style.display = 'none';
        document.querySelectorAll('.subcategory-list').forEach(subList => {
          subList.style.display = 'none';
        });
      }
    });

    categoryItems.forEach(item => {
      item.addEventListener('click', function (e) {
        e.stopPropagation();
        // ·∫®n t·∫•t c·∫£ subcategory-list tr∆∞·ªõc khi hi·ªÉn th·ªã c√°i ƒë∆∞·ª£c click
        document.querySelectorAll('.subcategory-list').forEach(subList => {
          subList.style.display = 'none';
        });
        const subcategoryList = this.querySelector('.subcategory-list');
        // Di chuy·ªÉn dropdown ph·ª• xu·ªëng d∆∞·ªõi danh m·ª•c ch√≠nh
        subcategoryList.style.top = '0%';
        subcategoryList.style.left = '100%';
        subcategoryList.style.display = subcategoryList.style.display === 'block' ? 'none' : 'block';
      });
    });

    // Th√™m v√†o cu·ªëi script hi·ªán c√≥
const bagIconWrapper = document.querySelector('.bag-icon-wrapper');
const bagDropdownMenu = document.querySelector('.bag-dropdown-menu');

if (bagIconWrapper && bagDropdownMenu) {
    // Toggle dropdown on bag icon click
    bagIconWrapper.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent document click from immediately closing
        bagDropdownMenu.classList.toggle('show');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!bagIconWrapper.contains(e.target)) {
            bagDropdownMenu.classList.remove('show');
        }
    });

    // Prevent dropdown from closing when clicking inside it
    bagDropdownMenu.addEventListener('click', function(e) {
        e.stopPropagation();
    });
}


  // notification
        const notificationIconTrigger = document.querySelector('.header-icons .icon-wrapper i.fa-bell').closest('.icon-wrapper');
        const notificationModal = document.getElementById('notification-modal');
        const notificationModalCloseBtn = document.getElementById('notification-modal-close-btn');
        const notificationTabButtons = document.querySelectorAll('.notification-modal-tabs .tab-button');
        const notificationTabContents = document.querySelectorAll('.notification-modal-body .tab-content');

        function showNotificationModal() {
            notificationModal.classList.add('show');
        }

        function closeNotificationModal() {
            notificationModal.classList.remove('show');
        }

        if (notificationIconTrigger) {
            notificationIconTrigger.addEventListener('click', (event) => {
                event.stopPropagation(); 
               
                showNotificationModal();
                
            });
        }

        if (notificationModalCloseBtn) {
            notificationModalCloseBtn.addEventListener('click', closeNotificationModal);
        }

      
        if (notificationModal) {
            notificationModal.addEventListener('click', function(event) {
                if (event.target === notificationModal) {
                    closeNotificationModal();
                }
            });
        }

       
        notificationTabButtons.forEach(button => {
            button.addEventListener('click', () => {
              
                notificationTabButtons.forEach(btn => btn.classList.remove('active'));
                notificationTabContents.forEach(content => content.classList.remove('active'));

               
                button.classList.add('active');
                const tabId = button.dataset.tab;
                document.getElementById(tabId + '-tab-content').classList.add('active');
            });
        });

    const activityTabContent = document.getElementById('activity-tab-content'); 
    if (activityTabContent) {
        activityTabContent.addEventListener('click', function(event) {
        if (event.target.classList.contains('btn-view-details')) {
            event.preventDefault(); 
            const notificationItem = event.target.closest('.notification-item');
            const orderId = notificationItem.dataset.orderId;

            window.location.href = `order_review.html?orderId=${orderId}`;
        }
    });
}
       
    </script>
  
  </body>
</html>