<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chọn danh mục - H! TMDT</title>
    <link rel="stylesheet" href="index.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    
  </head>
  <body>
    <header class="header">
        <div class="header-left">
            <a href="#" class="header-logo">
            <img src="https://bizweb.dktcdn.net/100/479/080/themes/897121/assets/logo.png?1739930514069" alt="H! TMDT Logo"/>
            </a>
            <div class="search-bar"> <input type="text" placeholder="Tìm kiếm sản phẩm" /> <button><i class="fas fa-search"></i></button> </div>
        </div>
        <div class="header-right">
            <div class="header-links"> <a href="#"> Đóng góp ý kiến </a> <a href="#"> Trợ giúp </a> </div>
            <div class="header-icons"> <a class="icon-wrapper"><i class="fas fa-bell"></i><span class="badge">2</span></a> <a href="#" class="icon-wrapper"><i class="fas fa-shopping-cart"></i><span class="badge">2</span></a> <a href="#" class="icon-wrapper"><i class="fas fa-comment-dots"></i><span class="badge">3</span></a> <a href="#" class="icon-wrapper"><i class="fas fa-user"></i></a> </div>
            <div class="header-buttons"> <button class="btn btn-outline"><i class="fas fa-user"></i> Quản lý tin</button> <button class="btn btn-post-news"><i class="fas fa-pen"></i> Đăng Tin</button> </div>
        </div>
    </header>

    <div class="main-content-wrapper">
      <div id="initial-container" class="post-container">
        <div class="post-header">
            <div class="note"> <strong>Hình ảnh và Video sản phẩm</strong> Xem thêm về <a href="#">quy định đăng tin</a> </div>
             <div class="dropdown-section">
                <label for="danh-muc-trigger">Danh mục tin đăng <span class="required">*</span></label>
                <div id="danh-muc-trigger" class="dropdown-like"> <span id="selected-category">Chọn danh mục</span> <span class="required">*</span> </div>
            </div>
        </div>
        <div class="post-body">
            <div class="upload-section"> <div class="upload-box"> <div> <i class="fas fa-image fa-2x"></i> <br/> Thêm hình ảnh sản phẩm </div> </div> </div>
            <div class="info-section"> <img src="https://static.chotot.com/storage/chotot-icons/svg/empty-category.svg" alt="Đăng tin minh hoạ"/> <h2>Đăng nhanh - Bán gọn</h2> <p>Chọn “danh mục tin đăng” để đăng tin</p> </div>
        </div>
      </div>
      </div>

    <div id="category-modal" class="modal-overlay"> <div class="modal-content"> <div class="modal-header"> <button class="modal-close" data-target="category-modal">&times;</button> <h3 class="modal-title">Đăng Tin</h3> </div> <div class="modal-body"> <h4>CHỌN DANH MỤC</h4> <ul class="category-list"> <li data-category="Bất động sản"> <i class="fas fa-building cat-icon"></i> <span class="cat-name">Bất động sản</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Xe cộ"> <i class="fas fa-motorcycle cat-icon"></i> <span class="cat-name">Xe cộ</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Đồ điện tử"> <i class="fas fa-desktop cat-icon"></i> <span class="cat-name">Đồ điện tử</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Tủ lạnh, máy lạnh, máy giặt"> <i class="fas fa-box cat-icon"></i> <span class="cat-name">Tủ lạnh, máy lạnh, máy giặt</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Đồ gia dụng, nội thất"> <i class="fas fa-couch cat-icon"></i> <span class="cat-name">Đồ gia dụng, nội thất</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Thời trang, đồ dùng cá nhân"> <i class="fas fa-tshirt cat-icon"></i> <span class="cat-name">Thời trang, đồ dùng cá nhân</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Thú cưng"> <i class="fas fa-paw cat-icon"></i> <span class="cat-name">Thú cưng</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> </ul> </div> </div> </div>
    <div id="xe-co-sub-modal" class="modal-overlay"> <div class="modal-content"> <div class="modal-header"> <button class="modal-back-btn" data-target="xe-co-sub-modal" data-return="category-modal"><i class="fas fa-arrow-left"></i></button> <h3 class="modal-title">Đăng Tin</h3> </div> <div class="modal-body"> <h4>CHỌN DANH MỤC</h4> <ul class="category-list subcategory-list"> <li data-category="Ô tô"> <span class="cat-name">Ô tô</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Xe máy"> <span class="cat-name">Xe máy</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Xe tải, xe ben"> <span class="cat-name">Xe tải, xe ben</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Xe điện"> <span class="cat-name">Xe điện</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Xe đạp"> <span class="cat-name">Xe đạp</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Phương tiện khác"> <span class="cat-name">Phương tiện khác</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> <li data-category="Phụ tùng xe"> <span class="cat-name">Phụ tùng xe</span> <i class="fas fa-chevron-right cat-arrow"></i> </li> </ul> </div> </div> </div>

    <script>
        const categoryTrigger = document.getElementById('danh-muc-trigger');
        const mainModal = document.getElementById('category-modal');
        let currentParentCategory = '';

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.classList.add('show');
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.classList.remove('show');
        }

        categoryTrigger.addEventListener('click', () => openModal('category-modal'));

        document.querySelectorAll('.modal-close').forEach(btn => {
            btn.addEventListener('click', () => closeModal(btn.closest('.modal-overlay').id));
        });

        document.querySelectorAll('.modal-back-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                closeModal(btn.dataset.target);
                openModal(btn.dataset.return);
            });
        });

        document.querySelectorAll('.modal-overlay').forEach(overlay => {
             overlay.addEventListener('click', (event) => {
                if (event.target === overlay) closeModal(overlay.id);
            });
        });

        // Main Category Click -> Opens Sub Modal
        mainModal.querySelector('.category-list').addEventListener('click', (event) => {
            const clickedLi = event.target.closest('li');
            if (clickedLi) {
                currentParentCategory = clickedLi.dataset.category;
                closeModal('category-modal');
                openModal('xe-co-sub-modal'); // Always open 'xe-co'
            }
        });

        // Sub Category Click -> REDIRECTS to form.html
        document.getElementById('xe-co-sub-modal').querySelector('.subcategory-list').addEventListener('click', (event) => {
             const clickedLi = event.target.closest('li');
             if (clickedLi) {
                 // Construct the new URL with ID = 123
                 const newUrl = `create_post.html?category=123`;

                 // Redirect to the new page
                 window.location.href = newUrl;
             }
        });
    </script>
  </body>
</html>