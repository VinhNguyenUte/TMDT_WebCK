<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ƒêƒÉng tin chi ti·∫øt - H! TMDT</title>
    <link rel="stylesheet" href="create_post.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    
</head>

<body>
    <header class="header">
        <div class="header-left">
            <a href="/Home_ProductDetails/Home.html" class="header-logo">
                <img src="https://bizweb.dktcdn.net/100/479/080/themes/897121/assets/logo.png?1739930514069"
                    alt="H! TMDT Logo" />
            </a>
            <div style="position: relative;">
        <button class="CategorySelected">
          <svg class="iconCategory" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path d="M4 6H20M4 12H20M4 18H20" stroke="white" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round"></path>
            </g>
          </svg>
          <ul class="category-dropdown" id="categoryDropdown">
            <li class="category-item">
              <i class="fas fa-building"></i> B·∫•t ƒë·ªông s·∫£n <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Chung c∆∞</li>
                <li class="subcategory-item">Nh√† ri√™ng</li>
                <li class="subcategory-item">VƒÉn ph√≤ng</li>
                <li class="subcategory-item">ƒê·∫•t n·ªÅn</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-motorcycle"></i> Xe c·ªô <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">√î t√¥</li>
                <li class="subcategory-item">Xe m√°y</li>
                <li class="subcategory-item">Xe ƒëi·ªán</li>
                <li class="subcategory-item">Xe ƒë·∫°p</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-laptop"></i> ƒê·ªì ƒëi·ªán t·ª≠ <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">ƒêi·ªán tho·∫°i</li>
                <li class="subcategory-item">M√°y t√≠nh b·∫£ng</li>
                <li class="subcategory-item">Laptop</li>
                <li class="subcategory-item">Ph·ª• ki·ªán ƒëi·ªán t·ª≠</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-snowflake"></i> T·ªß l·∫°nh, m√°y l·∫°nh, m√°y gi·∫∑t <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">T·ªß l·∫°nh</li>
                <li class="subcategory-item">M√°y l·∫°nh</li>
                <li class="subcategory-item">M√°y gi·∫∑t</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-couch"></i> ƒê·ªì gia d·ª•ng, n·ªôi th·∫•t <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Gi∆∞·ªùng</li>
                <li class="subcategory-item">T·ªß</li>
                <li class="subcategory-item">B√†n gh·∫ø</li>
                <li class="subcategory-item">Thi·∫øt b·ªã nh√† b·∫øp</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-tshirt"></i> Th·ªùi trang, ƒë·ªì d√πng c√° nh√¢n <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Qu·∫ßn √°o</li>
                <li class="subcategory-item">Gi√†y d√©p</li>
                <li class="subcategory-item">Ph·ª• ki·ªán</li>
                <li class="subcategory-item">M·ªπ ph·∫©m</li>
              </ul>
            </li>
            <li class="category-item">
              <i class="fas fa-paw"></i> Th√∫ c∆∞ng <span class="arrow">></span>
              <ul class="subcategory-list">
                <li class="subcategory-item">Ch√≥</li>
                <li class="subcategory-item">M√®o</li>
                <li class="subcategory-item">Ph·ª• ki·ªán th√∫ c∆∞ng</li>
                <li class="subcategory-item">Th·ª©c ƒÉn th√∫ c∆∞ng</li>
              </ul>
            </li>
          </ul>

        </button>
      </div>
            <div class="search-bar">
                <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m" />
                <button><i class="fas fa-search"></i></button>
            </div>
        </div>
        <div class="header-right">
            <div class="header-links">
                <a href="#"> ƒê√≥ng g√≥p √Ω ki·∫øn </a>
                <a href="#"> Tr·ª£ gi√∫p </a></div>
            <div class="header-icons">
                <a class="icon-wrapper"><i class="fas fa-bell"></i><span class="badge">2</span></a>
                <a href="/Saved_Product/saved_products.html" class="icon-wrapper"><i class="fa-solid fa-heart"></i></a>
                <a href="/Chat/index.html" class="icon-wrapper"><i class="fas fa-comment-dots"></i><span class="badge">3</span></a>
                <div class="icon-wrapper bag-icon-wrapper">
                    <i class="fa-solid fa-bag-shopping"></i><span class="badge">3</span>
                    <div class="bag-dropdown-menu">
                        <a href="/Order_History/don-mua-ban.html?type=buy" class="bag-dropdown-item">ƒê∆°n mua</a>
                        <a href="/Order_History/don-mua-ban.html?type=sell" class="bag-dropdown-item">ƒê∆°n b√°n</a>
                    </div>
                </div>
                
                <a href="/Profile/profile_edit.html" class="icon-wrapper"><i class="fas fa-user"></i></a>
            </div>
            <div class="header-buttons">
                <a href="/Day_Tin/quan-ly-tin.html" class="btn btn-outline"><i class="fas fa-user"></i> Qu·∫£n l√Ω tin</a>
                <a href="/Create_Post/index.html" class="btn btn-post-news"><i class="fas fa-pen"></i> ƒêƒÉng Tin</a>
            </div>
      </div>
    </header>

    <div class="main-content-wrapper">
        <a href="index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Quay l·∫°i trang ch·ªçn danh m·ª•c
        </a>
        <div id="details-form-container" class="post-details-container" style="display: flex;">
            <div class="post-details-left">
                <label for="image-upload-input" class="upload-slot">
                    <input type="file" id="image-upload-input" accept="image/*" multiple>
                    <i class="fas fa-camera"></i>
                    <span>ƒêƒÉng t·ª´ 01 - 06 h√¨nh</span>
                </label>
                <div id="image-preview-area" class="preview-area"></div>

                <label for="video-upload-input" class="upload-slot">
                    <input type="file" id="video-upload-input" accept="video/*">
                    <i class="fas fa-video"></i>
                    <span>ƒêƒÉng video ƒë·ªÉ b√°n nhanh h∆°n</span>
                </label>
                <div id="video-preview-area" class="preview-area"></div>

                <div class="package-section">
                    <h4>Ch·ªçn g√≥i ƒëƒÉng tin</h4>
                    <div class="package-cards-container">
                        <label>
                            <div class="package-card">
                                <input type="radio" name="posting_package" value="7_days" checked>
                                <div class="package-info">
                                    <div class="package-duration">1 Tu·∫ßn</div>
                                </div>
                                <div class="package-price">20,000ƒë</div>
                            </div>
                        </label>
                        <label>
                            <div class="package-card">
                                <input type="radio" name="posting_package" value="15_days">
                                <div class="package-info">
                                    <div class="package-duration">15 Ng√†y</div>
                                </div>
                                <div class="package-price">50,000ƒë</div>
                            </div>
                        </label>
                        <label>
                            <div class="package-card">
                                <input type="radio" name="posting_package" value="30_days">
                                <div class="package-info">
                                    <div class="package-duration">1 Th√°ng</div>
                                </div>
                                <div class="package-price">100,000ƒë</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="post-details-right">
                <div class="dropdown-section">
                    <label>Danh m·ª•c tin ƒëƒÉng</label>
                    <div id="selected-cat-display" class="selected-cat-display">Xe c·ªô - Xe m√°y</div>
                </div>

                <div class="form-section">
                    <h3>Th√¥ng tin chi ti·∫øt</h3>
                    <div class="form-group">
                        <div class="radio-group">
                            <span>T√¨nh tr·∫°ng</span>
                            <label>
                                <input type="radio" name="tinh_trang" value="used" checked id="radio-used">
                                <span>ƒê√£ s·ª≠ d·ª•ng</span>
                            </label>
                            <label>
                                <input type="radio" name="tinh_trang" value="new" id="radio-new">
                                <span>M·ªõi</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="hang_xe">H√£ng xe <span class="required">*</span></label>
                        <input type="text" id="hang_xe">
                    </div>
                    <div class="form-group">
                        <label for="nam_dk">NƒÉm ƒëƒÉng k√≠ <span class="required">*</span></label>
                        <input type="number" id="nam_dk">
                    </div>
                    <div class="form-group">
                        <label for="loai_xe">Lo·∫°i xe <span class="required">*</span></label>
                        <input type="text" id="loai_xe">
                    </div>
                    <div class="form-group-inline">
                        <div class="form-group">
                            <label for="dung_tich">Dung t√≠ch xe <span class="required">*</span></label>
                            <input type="text" id="dung_tich">
                        </div>
                        <div class="form-group">
                            <label for="bien_so">Bi·ªÉn s·ªë xe <span class="required">*</span></label>
                            <input type="text" id="bien_so">
                        </div>
                    </div>
                    <div id="km-group" class="form-group">
                        <label for="so_km">S·ªë km ƒë√£ ƒëi <span class="required">*</span></label>
                        <input type="number" id="so_km">
                    </div>
                    <div class="form-group">
                        <label for="gia_ban">Gi√° b√°n <span class="required">*</span></label>
                        <input type="number" id="gia_ban">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Ti√™u ƒë·ªÅ tin ƒëƒÉng v√† m√¥ t·∫£ chi ti·∫øt</h3>
                    <div class="form-group">
                        <label for="tieu_de">Ti√™u ƒë·ªÅ tin ƒëƒÉng <span class="required">*</span></label>
                        <input type="text" id="tieu_de">
                    </div>
                    <div class="form-group">
                        <label for="mo_ta">M√¥ t·∫£ chi ti·∫øt <span class="required">*</span></label>
                        <textarea id="mo_ta"
                            placeholder="-T√¨nh tr·∫°ng gi·∫•y t·ªù&#10;-Th·ªùi gian s·ª≠ d·ª•ng xe&#10;-Ch√≠nh s√°ch b·∫£o h√†nh xe"></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Th√¥ng tin ng∆∞·ªùi b√°n</h3>
                    <div class="form-group">
                        <label for="tinh_tp_select">T·ªânh/Th√†nh ph·ªë <span class="required">*</span></label>
                        <select id="tinh_tp_select">
                            <option value="">-- Ch·ªçn T·ªânh/Th√†nh ph·ªë --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="quan_huyen_select">Qu·∫≠n/Huy·ªán <span class="required">*</span></label>
                        <select id="quan_huyen_select">
                            <option value="">-- Ch·ªçn Qu·∫≠n/Huy·ªán --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="phuong_xa_select">Ph∆∞·ªùng/X√£ <span class="required">*</span></label>
                        <select id="phuong_xa_select">
                            <option value="">-- Ch·ªçn Ph∆∞·ªùng/X√£ --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="dia_chi_ct">ƒê·ªãa ch·ªâ chi ti·∫øt (S·ªë nh√†, t√™n ƒë∆∞·ªùng) <span class="required">*</span></label>
                        <input type="text" id="dia_chi_ct" placeholder="V√≠ d·ª•: 123 Nguy·ªÖn VƒÉn Linh">
                    </div>
                </div>
                <a href="/Payment/PaymentIndex.html" class="post-button">ƒêƒÉng tin</a>
            </div>
        </div>
    </div>

    <!-- Notification modal -->
      <div id="notification-modal" class="notification-modal-overlay">
        <div class="notification-modal-content">
            <div class="notification-modal-header">
                <h4>Th√¥ng b√°o</h4>
                <button id="notification-modal-close-btn" class="notification-modal-close">&times;</button>
            </div>
            <div class="notification-modal-tabs">
                <button class="tab-button active" data-tab="activity">Ho·∫°t ƒë·ªông</button>
                <button class="tab-button" data-tab="news">Tin t·ª©c</button>
            </div>
            <div class="notification-modal-body">
                <div id="activity-tab-content" class="tab-content active">
                    <div class="notification-item" data-order-id="order123">
                        <div class="notification-icon activity">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="notification-text">
                            <p><strong>Shop ABC</strong> ƒë√£ g·ª≠i y√™u c·∫ßu t·∫°o ƒë∆°n h√†ng cho s·∫£n ph·∫©m "√Åo thun nam cao c·∫•p".</p>
                            <span class="notification-time">2 ph√∫t tr∆∞·ªõc</span>
                        </div>
                        <a href="#" class="btn btn-view-details">Xem chi ti·∫øt</a>
                    </div>
                    <!-- <div class="notification-item">
                        <div class="notification-icon activity">
                             <i class="fas fa-handshake"></i>
                        </div>
                        <div class="notification-text">
                            <p>ƒê∆°n h√†ng #XYZ789 c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c <strong>Ng∆∞·ªùi mua XYZ</strong> x√°c nh·∫≠n. Chu·∫©n b·ªã h√†ng nh√©!</p>
                             <span class="notification-time">1 gi·ªù tr∆∞·ªõc</span>
                        </div>
                         <a href="#" class="btn btn-view-details">Xem ƒë∆°n h√†ng</a>
                    </div> -->
                    
                </div>
                <div id="news-tab-content" class="tab-content">
                    <div class="notification-item">
                        <div class="notification-icon news">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="notification-text">
                            <p>üî• Flash Sale cu·ªëi th√°ng! Gi·∫£m gi√° ƒë·∫øn 50% cho h√†ng ng√†n s·∫£n ph·∫©m.</p>
                            <span class="notification-time">H√¥m qua</span>
                        </div>
                    </div>
                    <div class="notification-item">
                         <div class="notification-icon news">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="notification-text">
                            <p>üéâ Ch√∫c m·ª´ng b·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c voucher gi·∫£m 10% cho ƒë∆°n h√†ng ti·∫øp theo.</p>
                             <span class="notification-time">2 ng√†y tr∆∞·ªõc</span>
                        </div>
                    </div>
                     
                </div>
            </div>
        </div>
    </div>

    <script>

        // notification
        const notificationIconTrigger = document.querySelector('.header-icons .icon-wrapper i.fa-bell').closest('.icon-wrapper');
        const notificationModal = document.getElementById('notification-modal');
        const notificationModalCloseBtn = document.getElementById('notification-modal-close-btn');
        const notificationTabButtons = document.querySelectorAll('.notification-modal-tabs .tab-button');
        const notificationTabContents = document.querySelectorAll('.notification-modal-body .tab-content');

        function showNotificationModal() {
            notificationModal.classList.add('show');
        }

        function closeNotificationModal() {
            notificationModal.classList.remove('show');
        }

        if (notificationIconTrigger) {
            notificationIconTrigger.addEventListener('click', (event) => {
                event.stopPropagation(); 
               
                showNotificationModal();
                
            });
        }

        if (notificationModalCloseBtn) {
            notificationModalCloseBtn.addEventListener('click', closeNotificationModal);
        }

      
        if (notificationModal) {
            notificationModal.addEventListener('click', function(event) {
                if (event.target === notificationModal) {
                    closeNotificationModal();
                }
            });
        }

       
        notificationTabButtons.forEach(button => {
            button.addEventListener('click', () => {
              
                notificationTabButtons.forEach(btn => btn.classList.remove('active'));
                notificationTabContents.forEach(content => content.classList.remove('active'));

               
                button.classList.add('active');
                const tabId = button.dataset.tab;
                document.getElementById(tabId + '-tab-content').classList.add('active');
            });
        });

    const activityTabContent = document.getElementById('activity-tab-content'); 
    if (activityTabContent) {
        activityTabContent.addEventListener('click', function(event) {
        if (event.target.classList.contains('btn-view-details')) {
            event.preventDefault(); 
            const notificationItem = event.target.closest('.notification-item');
            const orderId = notificationItem.dataset.orderId;

            window.location.href = `order_review.html?orderId=${orderId}`;
        }
    });
}
        const radioUsed = document.getElementById('radio-used');
        const radioNew = document.getElementById('radio-new');
        const kmGroup = document.getElementById('km-group');
        const imageInput = document.getElementById('image-upload-input');
        const imagePreviewArea = document.getElementById('image-preview-area');
        const videoInput = document.getElementById('video-upload-input');
        const videoPreviewArea = document.getElementById('video-preview-area');

        // Address Select Elements
        const provinceSelect = document.getElementById('tinh_tp_select');
        const districtSelect = document.getElementById('quan_huyen_select');
        const wardSelect = document.getElementById('phuong_xa_select');

        // Sample Address Data
        const addressData = {
            "H√† N·ªôi": {
                "Ba ƒê√¨nh": ["Ph√∫c X√°", "Tr√∫c B·∫°ch", "Vƒ©nh Ph√∫c", "C·ªëng V·ªã", "ƒêi·ªán Bi√™n"],
                "Ho√†n Ki·∫øm": ["Ch∆∞∆°ng D∆∞∆°ng", "C·ª≠a ƒê√¥ng", "C·ª≠a Nam", "ƒê·ªìng Xu√¢n", "H√†ng B·∫°c"],
                "T√¢y H·ªì": ["B∆∞·ªüi", "Nh·∫≠t T√¢n", "Ph√∫ Th∆∞·ª£ng", "Qu·∫£ng An", "Xu√¢n La"],
                "Hai B√† Tr∆∞ng": ["B√°ch Khoa", "B·∫°ch ƒê·∫±ng", "C·∫ßu D·ªÅn", "ƒê·ªëng M√°c"]
            },
            "ƒê√† N·∫µng": {
                "H·∫£i Ch√¢u": ["B√¨nh Hi√™n", "H·∫£i Ch√¢u I", "H·∫£i Ch√¢u II", "H√≤a C∆∞·ªùng B·∫Øc", "H√≤a C∆∞·ªùng Nam"],
                "S∆°n Tr√†": ["An H·∫£i B·∫Øc", "An H·∫£i ƒê√¥ng", "An H·∫£i T√¢y", "M√¢n Th√°i", "N·∫°i Hi√™n ƒê√¥ng"],
                "Thanh Kh√™": ["An Kh√™", "Ch√≠nh Gi√°n", "H√≤a Kh√™", "Tam Thu·∫≠n", "T√¢n Ch√≠nh"],
                "Li√™n Chi·ªÉu": ["H√≤a Kh√°nh B·∫Øc", "H√≤a Kh√°nh Nam", "H√≤a Minh"]
            },
            "TP. H·ªì Ch√≠ Minh": {
                "Qu·∫≠n 1": ["B·∫øn Ngh√©", "B·∫øn Th√†nh", "C·∫ßu Kho", "C·∫ßu √îng L√£nh", "C√¥ Giang"],
                "Qu·∫≠n 3": ["Ph∆∞·ªùng 1", "Ph∆∞·ªùng 2", "Ph∆∞·ªùng 3", "Ph∆∞·ªùng 4", "Ph∆∞·ªùng 5"],
                "Qu·∫≠n B√¨nh Th·∫°nh": ["Ph∆∞·ªùng 1", "Ph∆∞·ªùng 2", "Ph∆∞·ªùng 3", "Ph∆∞·ªùng 5", "Ph∆∞·ªùng 6"],
                "Th√†nh ph·ªë Th·ªß ƒê·ª©c": ["An Kh√°nh", "An L·ª£i ƒê√¥ng", "B√¨nh Chi·ªÉu", "B√¨nh Th·ªç"]
            }
        };

        function populateSelect(selectElement, items) {
            selectElement.innerHTML = `<option value="">-- Ch·ªçn --</option>`; 
            if (items) {
                items.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item;
                    option.textContent = item;
                    selectElement.appendChild(option);
                });
            }
        }

        provinceSelect.addEventListener('change', function () {
            const selectedProvince = this.value;
            if (selectedProvince && addressData[selectedProvince]) {
                populateSelect(districtSelect, Object.keys(addressData[selectedProvince]));
            } else {
                populateSelect(districtSelect, []);
            }
            populateSelect(wardSelect, []); 
        });

        districtSelect.addEventListener('change', function () {
            const selectedProvince = provinceSelect.value;
            const selectedDistrict = this.value;
            if (selectedProvince && selectedDistrict && addressData[selectedProvince] && addressData[selectedProvince][selectedDistrict]) {
                populateSelect(wardSelect, addressData[selectedProvince][selectedDistrict]);
            } else {
                populateSelect(wardSelect, []); 
            }
        });


        function toggleKmInput() {
            if (radioUsed.checked) {
                kmGroup.style.display = 'block';
                kmGroup.classList.remove('hidden');
            } else {
                kmGroup.style.display = 'none';
                kmGroup.classList.add('hidden');
            }
        }

        function handleImageUpload(event) {
            const files = event.target.files;
            imagePreviewArea.innerHTML = '';
            if (files.length > 6) {
                alert("B·∫°n ch·ªâ c√≥ th·ªÉ ƒëƒÉng t·ªëi ƒëa 6 h√¨nh ·∫£nh.");
                imageInput.value = ""; return;
            }
            for (const file of files) {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const previewItem = document.createElement('div');
                        previewItem.classList.add('preview-item');
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        const removeBtn = document.createElement('button');
                        removeBtn.classList.add('remove-btn');
                        removeBtn.innerHTML = '&times;';
                        removeBtn.onclick = () => { previewItem.remove(); };
                        previewItem.appendChild(img);
                        previewItem.appendChild(removeBtn);
                        imagePreviewArea.appendChild(previewItem);
                    };
                    reader.readAsDataURL(file);
                }
            }
        }

        function handleVideoUpload(event) {
            const file = event.target.files[0];
            videoPreviewArea.innerHTML = '';
            if (file && file.type.startsWith('video/')) {
                const videoURL = URL.createObjectURL(file);
                const previewItem = document.createElement('div');
                previewItem.classList.add('preview-item');
                const video = document.createElement('video');
                video.src = videoURL;
                video.controls = true;
                const removeBtn = document.createElement('button');
                removeBtn.classList.add('remove-btn');
                removeBtn.innerHTML = '&times;';
                removeBtn.onclick = () => { previewItem.remove(); URL.revokeObjectURL(videoURL); videoInput.value = ""; };
                previewItem.appendChild(video);
                previewItem.appendChild(removeBtn);
                videoPreviewArea.appendChild(previewItem);
            } else if (file) {
                alert("Vui l√≤ng ch·ªâ ch·ªçn file video."); videoInput.value = "";
            }
        }
        radioUsed.addEventListener('change', toggleKmInput);
        radioNew.addEventListener('change', toggleKmInput);
        imageInput.addEventListener('change', handleImageUpload);
        videoInput.addEventListener('change', handleVideoUpload);

        window.onload = function () {
            const catDisplay = document.getElementById('selected-cat-display');
            if (catDisplay) { catDisplay.textContent = 'Xe c·ªô - Xe m√°y'; }
            toggleKmInput();
            populateSelect(provinceSelect, Object.keys(addressData));
        };


        const toggleButton = document.querySelector('.CategorySelected');
    const dropdown = document.getElementById('categoryDropdown');
    const categoryItems = document.querySelectorAll('.category-item');

    toggleButton.addEventListener('click', function (e) {
      e.preventDefault();
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
      document.querySelectorAll('.subcategory-list').forEach(subList => {
        subList.style.display = 'none';
      });
    });

    document.addEventListener('click', function (e) {
      if (!toggleButton.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.style.display = 'none';
        document.querySelectorAll('.subcategory-list').forEach(subList => {
          subList.style.display = 'none';
        });
      }
    });

    categoryItems.forEach(item => {
      item.addEventListener('click', function (e) {
        e.stopPropagation();
        // ·∫®n t·∫•t c·∫£ subcategory-list tr∆∞·ªõc khi hi·ªÉn th·ªã c√°i ƒë∆∞·ª£c click
        document.querySelectorAll('.subcategory-list').forEach(subList => {
          subList.style.display = 'none';
        });
        const subcategoryList = this.querySelector('.subcategory-list');
        // Di chuy·ªÉn dropdown ph·ª• xu·ªëng d∆∞·ªõi danh m·ª•c ch√≠nh
        subcategoryList.style.top = '0%';
        subcategoryList.style.left = '100%';
        subcategoryList.style.display = subcategoryList.style.display === 'block' ? 'none' : 'block';
      });
    });
    // Th√™m v√†o cu·ªëi script hi·ªán c√≥
const bagIconWrapper = document.querySelector('.bag-icon-wrapper');
const bagDropdownMenu = document.querySelector('.bag-dropdown-menu');

if (bagIconWrapper && bagDropdownMenu) {
    // Toggle dropdown on bag icon click
    bagIconWrapper.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent document click from immediately closing
        bagDropdownMenu.classList.toggle('show');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!bagIconWrapper.contains(e.target)) {
            bagDropdownMenu.classList.remove('show');
        }
    });

    // Prevent dropdown from closing when clicking inside it
    bagDropdownMenu.addEventListener('click', function(e) {
        e.stopPropagation();
    });
}
    </script>
</body>
</html>